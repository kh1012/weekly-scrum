# 스냅샷 관리 개선 사항

## 변경사항 목록

### 1. 카드별 옵션 메뉴 (Commit 1)
- 카드별 "..." 옵션 버튼 추가 (펼치기 버튼 옆)
- 메뉴 항목: 복제, JSON 복사, Plain Text 복사, 삭제
- 복제 기능: 깊은 복사로 원본과 독립적인 카드 생성, 원본 바로 아래 삽입
- 우클릭 컨텍스트 메뉴에도 복제 기능 추가

### 2. Tasks 진행률 슬라이더 (Commit 2)
- 작업 입력 필드 아래에 진행률 슬라이더 추가
- 25% 단위 스텝 (0, 25, 50, 75, 100)
- 슬라이더 색상 그라데이션 표시 (emerald)
- 눈금 마커 표시 (진행률에 따라 색상 변화)
- 키보드 좌우키로 25% 단위 이동 가능

### 3. Risk "없음" 초기값 + 작성 비활성화 (Commit 3)
- "리스크 없음" 토글 버튼 추가
- 토글 활성화 시 `risk = null`, `riskLevel = null` 자동 설정
- 리스크 없음 상태에서 입력 필드 숨김
- 상태 안내 메시지 표시 ("현재 리스크가 없습니다")

### 4. Collaborators 아이콘 + 툴팁 (Commit 4)
- pair/pre/post 텍스트 대신 아이콘 표시
- 호버 시 tooltip으로 설명 표시:
  - 페어: 실시간 공동 협업 (pair partner)
  - 사전: 앞단 협업자 - 내 작업에 필요한 선행 입력 제공
  - 사후: 후단 협업자 - 내 결과물을 받아 다음 단계 수행
- 체크박스 형태의 버튼 (복수 선택 지원)
- 선택 상태에 따른 색상 변화 (purple, blue, emerald)

### 5. Past Week ← This Week 덮어쓰기 (Commit 5)
- Past Week 헤더에 "This Week에서 가져오기" 버튼 추가
- This Week tasks를 Past Week tasks로 복사 (progress 0%로 초기화)
- This Week에 tasks가 있을 때만 버튼 표시
- 깊은 복사로 독립적인 데이터 생성

### 6. 미리보기 체크박스 레이아웃 (Commit 6)
- "2열 | 3열" 토글 버튼을 "미리보기" 체크박스로 변경
- 체크 시: 3열 레이아웃 (미리보기 포함)
- 체크 해제 시: 2열 레이아웃 (미리보기 숨김)
- iOS 스타일 토글 스위치 디자인

### 7. 편집폼 ↔ 미리보기 포커스 연동 (Commit 7)
- 편집폼 필드 포커스 시 미리보기 해당 섹션 하이라이트
- 화면 밖 섹션은 자동 스크롤 (scrollIntoView)
- 구조화된 미리보기 레이아웃으로 변경
- 섹션별 파란색 하이라이트 + 좌측 border
- 원본 Plain Text는 접기 가능한 details로 제공

---

## 사용법 (UX)

### 스냅샷 카드 관리
1. 카드 우측 상단 "..." 버튼 클릭 → 복제/복사/삭제
2. 카드 우클릭 → 동일한 메뉴 접근 가능
3. 카드 더블클릭 → 상세 내용 펼치기/접기

### Tasks 진행률 입력
1. 작업 내용 입력
2. 슬라이더를 드래그하거나 좌우 화살표키로 25% 단위 조절
3. 100%가 되면 녹색으로 표시

### 리스크 관리
1. 기본 상태: "리스크 없음" 토글 활성화
2. 리스크 추가: 토글 해제 → "리스크 추가" 버튼 클릭
3. 리스크 삭제: 각 항목 우측 X 버튼

### 협업자 관계 설정
1. 이름 선택 또는 직접 입력
2. 아이콘 버튼 클릭으로 관계 설정 (복수 선택 가능)
3. 아이콘 호버 시 설명 확인

### 레이아웃 전환
1. 우측 상단 "미리보기" 토글 스위치
2. ON: 3열 레이아웃 (편집 + 미리보기)
3. OFF: 2열 레이아웃 (편집만)

---

## 기술적 메모

### 데이터 스키마
- 기존 v2 스키마 (`ScrumItemV2`) 그대로 사용
- `TempSnapshot`은 편집 전용 임시 타입
- `relations` 배열로 복수 관계 지원 (하위 호환성: `relation` 필드 유지)

### 상태 관리
- React `useState`/`useCallback` 기반 로컬 상태
- 복제 시 깊은 복사 (참조 공유 방지)
- 포커스 연동: `focusedSection` 상태로 섹션 추적

### 스타일링
- Tailwind CSS 기반
- iOS 스타일 토글 스위치 (커스텀 구현)
- 섹션 하이라이트: 파란색 배경 + 좌측 border

---

## 추후 개선 TODO

- [ ] ESLint 설정 완료 후 전체 lint 검사
- [ ] 스냅샷 실제 저장 기능 연결 (현재는 임시 상태만)
- [ ] 키보드 단축키 지원 (Cmd+D 복제, Cmd+Backspace 삭제 등)
- [ ] 모바일 반응형 개선 (3열 → 탭 전환)
- [ ] undo/redo 기능 추가

